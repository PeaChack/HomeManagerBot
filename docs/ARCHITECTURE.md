## –î–æ–º–∞—à–Ω–∏–π –º–µ–Ω–µ–¥–∂–µ—Ä (Telegram-–±–æ—Ç) ‚Äî –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, –ø–ª–∞–Ω –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å

### –¶–µ–ª–∏ –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞ –∑–∞–ø—É—Å–∫–∞**: –æ–¥–∏–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–ª–∏ `venv`, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
- **–ú—É–ª—å—Ç–∏-–∞—Ä–µ–Ω–¥–Ω–æ—Å—Ç—å (—Å–µ–º—å–∏)**: –ø–æ–ª–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ —Å–µ–º—å—è–º.
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å**: –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏ (—Ñ–∏—á–∏) –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –±–µ–∑ –ø—Ä–∞–≤–æ–∫ —è–¥—Ä–∞.
- **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å**: —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å, –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.
- **–£–¥–æ–±—Å—Ç–≤–æ UX**: –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, —á–µ–∫-–ª–∏—Å—Ç—ã, –º–∏–Ω–∏–º—É–º —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ (–ø—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–π)
- –Ø–∑—ã–∫: **Python 3.11+**
- Telegram: **aiogram v3** (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, FSM, middlewares)
- –•—Ä–∞–Ω–∏–ª–∏—â–µ: **SQLite** –¥–ª—è MVP ‚Üí **PostgreSQL** (prod)
- ORM: **SQLAlchemy 2.x** (–∏–ª–∏ **SQLModel** –ø–æ–≤–µ—Ä—Ö –Ω–µ–≥–æ)
- –ú–∏–≥—Ä–∞—Ü–∏–∏: **Alembic**
- –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫: **APScheduler** (reminders/cron)
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `logging` + JSON —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø—Ä–æ–¥
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è: `Docker` (–ø–æ –∂–µ–ª–∞–Ω–∏—é)
- –¢–µ—Å—Ç—ã: `pytest`

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (—Å–∫–µ–ª–µ—Ç)
```
HomeManagerBot/
‚îú‚îÄ app/
‚îÇ  ‚îú‚îÄ bot/                # –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è aiogram, —Ä–æ—É—Ç–µ—Ä—ã, middlewares
‚îÇ  ‚îÇ  ‚îú‚îÄ routers/
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ core.py       # —Å—Ç–∞—Ä—Ç, –ø–æ–º–æ—â—å, –ø—Ä–æ—Ñ–∏–ª—å, –≤—ã–±–æ—Ä —Å–µ–º—å–∏
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ shopping.py   # —Å–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ meals.py      # –±–ª—é–¥–∞, –º–µ–Ω—é –ø–æ –¥–Ω—è–º, —á–µ–∫-–ª–∏—Å—Ç—ã –Ω–∞–ª–∏—á–∏—è
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ pantry.py     # (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ) —Å–∫–ª–∞–¥/–∑–∞–ø–∞—Å—ã
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ chores.py     # (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ) –¥–µ–ª–∞/–¥–µ–∂—É—Ä—Å—Ç–≤–∞
‚îÇ  ‚îÇ  ‚îú‚îÄ keyboards/
‚îÇ  ‚îÇ  ‚îú‚îÄ middlewares/
‚îÇ  ‚îÇ  ‚îú‚îÄ filters/
‚îÇ  ‚îú‚îÄ domain/             # —Å—É—â–Ω–æ—Å—Ç–∏, —Å–µ—Ä–≤–∏—Å—ã, –ø–æ–ª–∏—Ç–∏–∫–∏
‚îÇ  ‚îÇ  ‚îú‚îÄ models.py
‚îÇ  ‚îÇ  ‚îú‚îÄ services/
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ shopping_service.py
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ meals_service.py
‚îÇ  ‚îÇ  ‚îú‚îÄ rules/
‚îÇ  ‚îú‚îÄ infrastructure/
‚îÇ  ‚îÇ  ‚îú‚îÄ db/
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ base.py       # engine, sessionmaker
‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ repositories/
‚îÇ  ‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ shopping_repo.py
‚îÇ  ‚îÇ  ‚îÇ  ‚îÇ  ‚îú‚îÄ meals_repo.py
‚îÇ  ‚îÇ  ‚îú‚îÄ migrations/
‚îÇ  ‚îÇ  ‚îú‚îÄ schedulers/
‚îÇ  ‚îú‚îÄ core/
‚îÇ  ‚îÇ  ‚îú‚îÄ settings.py      # pydantic Settings (—Ç–æ–∫–µ–Ω, –ë–î –∏ —Ç.–ø.)
‚îÇ  ‚îÇ  ‚îú‚îÄ di.py            # —Å–±–æ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
‚îÇ  ‚îÇ  ‚îú‚îÄ plugins.py       # —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ñ–∏—á-–º–æ–¥—É–ª–µ–π
‚îÇ  ‚îú‚îÄ utils/
‚îÇ  ‚îî‚îÄ main.py
‚îú‚îÄ docs/
‚îÇ  ‚îî‚îÄ ARCHITECTURE.md
‚îú‚îÄ tests/
‚îú‚îÄ pyproject.toml / requirements.txt
‚îî‚îÄ .env.example
```

### –ú–æ–¥–µ–ª—å –º—É–ª—å—Ç–∏-–∞—Ä–µ–Ω–¥–Ω–æ—Å—Ç–∏ (—Å–µ–º—å–∏)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (Telegram `user_id`) –º–æ–∂–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ–º—å—è—Ö.
- –í—Å–µ –∑–∞–ø–∏—Å–∏ (–ø–æ–∫—É–ø–∫–∏, –±–ª—é–¥–∞, –º–µ–Ω—é) –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∞—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ–º—å–µ (`family_id`).
- –ê–∫—Ç–∏–≤–Ω–∞—è —Å–µ–º—å—è –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∫–æ–º–∞–Ω–¥–æ–π –∏–ª–∏ –º–µ–Ω—é (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª–µ).
- –ü—Ä–∞–≤–∞: –≤–ª–∞–¥–µ–ª–µ—Ü —Å–µ–º—å–∏ –∏ –æ–±—ã—á–Ω—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ –¥–ª—è MVP). –ü–æ–∑–∂–µ ‚Äî —Ä–æ–ª–∏.

### –ö–ª—é—á–µ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (MVP)
- `Family`: id, name, created_at
- `User`: id (tg_user_id), first_name, last_name, username
- `FamilyMember`: family_id, user_id, role
- `ShoppingItem`: id, family_id, title, qty, unit, is_done, created_by, created_at
- `Dish`: id, family_id, title, instructions?, created_by   (–±–ª—é–¥–∞ —Å—Ç—Ä–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ —Å–µ–º—å–∏)
- `DishIngredient`: id, dish_id, title, qty, unit (–Ω–æ—Ä–º–∞–ª–∏–∑—É–µ–º –ø–æ–∑–∂–µ)
- `PlannedMeal`: id, family_id, date (date), dish_id, notes
- `PantryItem` (—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ): id, family_id, product_id, qty, unit, updated_at

–û—Ç–Ω–æ—à–µ–Ω–∏—è:
- Family 1‚ÄîN FamilyMember, 1‚ÄîN ShoppingItem, 1‚ÄîN Dish, 1‚ÄîN PlannedMeal
- Dish 1‚ÄîN DishIngredient
- User N‚ÄîM Family (—á–µ—Ä–µ–∑ FamilyMember)

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (MVP)
1) –°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫:
   - –î–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é (+qty, unit), –æ—Ç–º–µ—Ç–∏—Ç—å –∫–∞–∫ –∫—É–ø–ª–µ–Ω–æ, —É–¥–∞–ª–∏—Ç—å/–æ—á–∏—Å—Ç–∏—Ç—å.
   - –ü—Ä–æ—Å–º–æ—Ç—Ä —á–µ–∫-–ª–∏—Å—Ç–æ–º —Å –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∞–º–∏; –±—ã—Å—Ç—Ä—ã–π –≤–≤–æ–¥ —á–µ—Ä–µ–∑ top-10 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è + —Å–≤–æ–±–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç.
2) –ë–ª—é–¥–∞ –∏ –º–µ–Ω—é:
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–±–∞–≤–ª—è—é—Ç –±–ª—é–¥–∞ –∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã.
   - –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–Ω—é –Ω–∞ –¥–∞—Ç—ã (–∫–∞–ª–µ–Ω–¥–∞—Ä—å/–∫–Ω–æ–ø–∫–∏).
   - –î–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –±–ª—é–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —á–µ–∫-–ª–∏—Å—Ç –Ω–∞–ª–∏—á–∏—è –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤:
     - ¬´–ï—Å—Ç—å –¥–æ–º–∞¬ª, ¬´–ù–µ—Ç¬ª ‚Üí –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–µ–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ ‚Üí –≤ —Å–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫.
   - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π `/dish_check <dish_id>` —Å –∏–Ω–ª–∞–π–Ω-–∫–Ω–æ–ø–∫–∞–º–∏.

### –ò–¥–µ–∏ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –ø–æ–∫—É–ø–∫–∞—Ö, –ø–ª–∞–Ω–∞—Ö –º–µ–Ω—é (—É—Ç—Ä–æ–º/–Ω–∞–∫–∞–Ω—É–Ω–µ).
- –°–∫–ª–∞–¥/–∑–∞–ø–∞—Å—ã: –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞—Ç–∫–∏, –∞–≤—Ç–æ-–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –ø–æ–∫—É–ø–∫–∏ –ø—Ä–∏ —Å–Ω–∏–∂–µ–Ω–∏–∏.
- –î–µ–∂—É—Ä—Å—Ç–≤–∞/–¥–µ–ª–∞ –ø–æ –¥–æ–º—É: –≥—Ä–∞—Ñ–∏–∫, —Ä–æ—Ç–∞—Ü–∏–∏, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞.
- –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç CSV/Google Sheets.
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —á–µ–∫–æ–≤ (OCR), –∞–≤—Ç–æ-—Ä–∞–∑–±–æ—Ä –ø–æ–∫—É–ø–æ–∫.
- –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞: –∞–¥–º–∏–Ω/—Ä–µ–¥–∞–∫—Ç–æ—Ä/—á–∏—Ç–∞—Ç–µ–ª—å –Ω–∞ —Å–µ–º—å—é.
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: –∫–∞–ª–µ–Ω–¥–∞—Ä—å (Google), –≥–æ–ª–æ—Å–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã.
- –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (i18n) ‚Äî ru/en.
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è —Å –≥–∏–±–∫–∏–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º per-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–≤ —Ä–∞–º–∫–∞—Ö —Å–µ–º—å–∏).

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- –°–ª–æ–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: `bot` (UI) ‚Üí `domain.services` (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞) ‚Üí `infrastructure.repositories` (–ë–î)
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ `aiogram` —Ç–æ–Ω–∫–∏–µ: –ø–∞—Ä—Å—è—Ç –∞–ø–¥–µ–π—Ç, –≤—ã–∑—ã–≤–∞—é—Ç —Å–µ—Ä–≤–∏—Å, —Ä–µ–Ω–¥–µ—Ä—è—Ç –æ—Ç–≤–µ—Ç.
- –°–µ—Ä–≤–∏—Å—ã –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã, –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç –≤—Ö–æ–¥, —Ä–∞–±–æ—Ç–∞—é—Ç –≤ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (UnitOfWork).
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä—É—é—Ç SQL/ORM –º–æ–¥–µ–ª–∏.
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ DTO ‚Äî —á–µ—Ä–µ–∑ Pydantic (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –Ω–∞ –≥—Ä–∞–Ω–∏—Ü–∞—Ö).

### –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å/–ø–ª–∞–≥–∏–Ω—ã
- –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å-—Ñ–∏—á–∞ ‚Äî —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç —Å:
  - —Ä–æ—É—Ç–µ—Ä–æ–º `aiogram.Router`
  - —Å–≤–æ–∏–º–∏ –º–æ–¥–µ–ª—è–º–∏/—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏/—Å–µ—Ä–≤–∏—Å–∞–º–∏
  - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ `core/plugins.py` (—Ä–µ–µ—Å—Ç—Ä —Ñ–∏—á)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–ª–∞–≥–∏–Ω–∞:
  - `def register_routers(dp_or_app): ...`
  - `def register_dependencies(container): ...`
  - `def register_migrations(): ...` (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- –ù–æ–≤–∞—è —Ñ–∏—á–∞ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –µ—ë –≤ —Å–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–ª–∞–≥–∏–Ω–æ–≤ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.

### –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏ UX (—á–µ—Ä–µ–∑ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã)
- –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (reply): ¬´–°–µ–º—å—è¬ª, ¬´–ü–æ–∫—É–ø–∫–∏¬ª, ¬´–ú–µ–Ω—é¬ª, ¬´–ë–ª—é–¥–∞¬ª.
- –°–ø–∏—Å–∫–∏ (–∏–Ω–ª–∞–π–Ω): –ø–æ–∫—É–ø–∫–∏ —Å –∫–Ω–æ–ø–∫–∞–º–∏ ¬´‚úîÔ∏è¬ª –∏ ¬´üßπ –û—á–∏—Å—Ç–∏—Ç—å –∫—É–ø–ª–µ–Ω–Ω—ã–µ¬ª, –±–ª—é–¥–∞/–∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã ‚Äî —á–µ–∫-–ª–∏—Å—Ç—ã.
- FSM –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –¥–∏–∞–ª–æ–≥–æ–≤ (—Å–æ–∑–¥–∞–Ω–∏–µ –±–ª—é–¥–∞, –ø–æ—à–∞–≥–æ–≤—ã–π –≤–≤–æ–¥ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–æ–≤).

### –û—à–∏–±–∫–∏ –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å
- Centralized error handler middleware: –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, user-friendly —Å–æ–æ–±—â–µ–Ω–∏—è.
- –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –ø–æ `update_id`/`callback` –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≥–æ–Ω–æ–∫: —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ + —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ–¥–∏–Ω PlannedMeal –Ω–∞ –¥–∞—Ç—É/—Å–µ–º—å—é/–ø—Ä–∏—ë–º—ã).

### –•—Ä–∞–Ω–∏–ª–∏—â–µ –∏ –º–∏–≥—Ä–∞—Ü–∏–∏
- –ù–∞—á–∞—Ç—å —Å SQLite (—Ñ–∞–π–ª) –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã, –æ–¥–∏–Ω `engine`.
- Alembic –º–∏–≥—Ä–∞—Ü–∏–∏ —Å –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π, –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ä–µ–≤–∏–∑–∏–∏ –ø–æ —Ñ–∏—á–∞–º.
- –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ PostgreSQL ‚Äî —Å–º–µ–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è; –∏–∑–±–µ–≥–∞—Ç—å SQLite-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö SQL.

### –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
- APScheduler (BackgroundScheduler) –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π.
- –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è per-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –∫–∞–∂–¥—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ —Å–µ–º—å–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –≤—Ä–µ–º—è/–≤—ã–∫–ª—é—á–∞–µ—Ç.
- –•—Ä–∞–Ω–∏—Ç—å –∑–∞–¥–∞–Ω–∏—è –≤ –ë–î (–ø–æ–∑–∂–µ) –∏–ª–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ.

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã —Å–µ—Ä–≤–∏—Å–æ–≤ (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –±–µ–∑ Telegram).
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ ‚Äî –Ω–∞ in-memory SQLite.
- –ú–æ–∫–∏ Telegram API (aiogram —Ç–µ—Å—Ç–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã).

### MVP: –∫–æ–º–∞–Ω–¥—ã –∏ —ç–∫—Ä–∞–Ω—ã
- `/start`, –≤—ã–±–æ—Ä/—Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ–º—å–∏.
- –ü–æ–∫—É–ø–∫–∏: —Å–ø–∏—Å–æ–∫, –¥–æ–±–∞–≤–∏—Ç—å, –æ—Ç–º–µ—Ç–∏—Ç—å, –æ—á–∏—Å—Ç–∏—Ç—å.
- –ë–ª—é–¥–∞: —Å–ø–∏—Å–æ–∫, —Å–æ–∑–¥–∞—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, —É–¥–∞–ª–∏—Ç—å.
- –ú–µ–Ω—é: –≤—ã–±—Ä–∞—Ç—å –¥–∞—Ç—É, –¥–æ–±–∞–≤–∏—Ç—å –±–ª—é–¥–æ –Ω–∞ –¥–µ–Ω—å, —á–µ–∫-–ª–∏—Å—Ç –Ω–∞–ª–∏—á–∏—è ‚Üí –Ω–µ–¥–æ—Å—Ç–∞—é—â–µ–µ –≤ –ø–æ–∫—É–ø–∫–∏.

### –ú–∏–Ω–∏-ERD (—Å–ª–æ–≤–∞–º–∏)
- Family (1) ‚Äî (N) FamilyMember ‚Äî (N) User
- Family (1) ‚Äî (N) ShoppingItem
- Family (1) ‚Äî (N) Dish ‚Äî (N) DishIngredient
- Family (1) ‚Äî (N) PlannedMeal ‚Äî (1) Dish

### –ü—Ä–∏–º–µ—Ä —Ç–∞–±–ª–∏—Ü (SQL, —É–∫–æ—Ä–æ—á–µ–Ω–æ)
```sql
CREATE TABLE family (
  id INTEGER PRIMARY KEY,
  name TEXT NOT NULL,
  created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE user (
  id INTEGER PRIMARY KEY,              -- Telegram user_id
  first_name TEXT,
  last_name TEXT,
  username TEXT
);

CREATE TABLE family_member (
  family_id INTEGER NOT NULL,
  user_id INTEGER NOT NULL,
  role TEXT NOT NULL DEFAULT 'member',
  PRIMARY KEY (family_id, user_id)
);

CREATE TABLE shopping_item (
  id INTEGER PRIMARY KEY,
  family_id INTEGER NOT NULL,
  title TEXT NOT NULL,
  qty REAL,
  unit TEXT,
  is_done BOOLEAN NOT NULL DEFAULT 0,
  created_by INTEGER,
  created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE dish (
  id INTEGER PRIMARY KEY,
  family_id INTEGER NOT NULL,
  title TEXT NOT NULL,
  instructions TEXT,
  created_by INTEGER
);

CREATE TABLE dish_ingredient (
  id INTEGER PRIMARY KEY,
  dish_id INTEGER NOT NULL,
  title TEXT NOT NULL,
  qty REAL,
  unit TEXT
);

CREATE TABLE planned_meal (
  id INTEGER PRIMARY KEY,
  family_id INTEGER NOT NULL,
  date DATE NOT NULL,
  dish_id INTEGER NOT NULL,
  notes TEXT
);
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å
- –†–∞–∑–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ `family_id` –Ω–∞ —É—Ä–æ–≤–Ω–µ –∑–∞–ø—Ä–æ—Å–æ–≤/—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤.
- –ú–∏–Ω–∏–º—É–º –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö; –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –æ—á–∏—Å—Ç–∫–∞ username.
- –ë—ç–∫–∞–ø—ã –ë–î (–ø—Ä–∏ –ø—Ä–æ–¥) –∏ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ (`.env`).

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `Settings` —á–µ—Ä–µ–∑ Pydantic (–≤—Å–µ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è): `BOT_TOKEN`, `DB_URL`, `TIMEZONE`, `LOG_LEVEL`, —Ñ–ª–∞–≥–∏ —Ñ–∏—á. –ü—Ä–∏–º–µ—Ä –≤ `env.example` (–ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –≤ `.env`).
- –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: —Ç–µ–∫—É—â–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è —Å–µ–º—å—è, –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è —è–∑—ã–∫–∞/—á–∞—Å–æ–≤–æ–≥–æ –ø–æ—è—Å–∞.

### –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞
1. MVP (1‚Äì2 –Ω–µ–¥–µ–ª–∏):
   - –°–∫–µ–ª–µ—Ç –ø—Ä–æ–µ–∫—Ç–∞, –ë–î, –º–∏–≥—Ä–∞—Ü–∏–∏, —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã.
   - –°–ø–∏—Å–æ–∫ –ø–æ–∫—É–ø–æ–∫ (–ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª).
   - –ë–ª—é–¥–∞ + –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã.
   - –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–Ω—é + —á–µ–∫-–ª–∏—Å—Ç ‚Üí –∞–≤—Ç–æ–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –ø–æ–∫—É–ø–∫–∏.
2. –ö–∞—á–µ—Å—Ç–≤–æ –∂–∏–∑–Ω–∏:
   - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è, –±—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏, ¬´–æ—á–∏—Å—Ç–∏—Ç—å –∫—É–ø–ª–µ–Ω–Ω–æ–µ¬ª, –ø–∞–≥–∏–Ω–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤.
   - –ò–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç CSV.
3. –†–∞—Å—à–∏—Ä–µ–Ω–∏—è:
   - –°–∫–ª–∞–¥/–∑–∞–ø–∞—Å—ã —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º–∏ –æ—Å—Ç–∞—Ç–∫–∞–º–∏.
   - –î–µ–∂—É—Ä—Å—Ç–≤–∞/—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —É–±–æ—Ä–æ–∫.
   - –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞.
4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ ML:
   - OCR —á–µ–∫–æ–≤, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º/—Ç–∞—Å–∫-–º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏.

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: —Å–º. `docs/USER_GUIDE.md`.
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –∫–æ–º–∞–Ω–¥ –≤ BotFather: –∫–æ–º–∞–Ω–¥—ã –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤ `docs/USER_GUIDE.md` (—Ä–∞–∑–¥–µ–ª "–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–º–∞–Ω–¥ –≤ BotFather").

### –û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã
1. –ï–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è: –æ—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç —Å–µ–π—á–∞—Å, —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ–∑–∂–µ?
2. –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–Ω—é: –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏—ë–º–æ–≤ –ø–∏—â–∏ –∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –æ–¥–∏–Ω —Å–ª–æ—Ç?
3. –ù—É–∂–Ω—ã –ª–∏ –∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç –∏ –∫–∞–∫–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å (CSV/Sheets)?


